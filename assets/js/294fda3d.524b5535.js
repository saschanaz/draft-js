/*! For license information please see 294fda3d.524b5535.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[626],{1664:e=>{var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(a){return!1}}()?Object.assign:function(e,a){for(var o,l,i=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var u in o=Object(arguments[c]))r.call(o,u)&&(i[u]=o[u]);if(t){l=t(o);for(var s=0;s<l.length;s++)n.call(o,l[s])&&(i[l[s]]=o[l[s]])}}return i}},3696:(e,t,r)=>{e.exports=r(4403)},4403:(e,t,r)=>{var n=r(1664),a="function"==typeof Symbol&&Symbol.for,o=a?Symbol.for("react.element"):60103,l=a?Symbol.for("react.portal"):60106,i=a?Symbol.for("react.fragment"):60107,c=a?Symbol.for("react.strict_mode"):60108,u=a?Symbol.for("react.profiler"):60114,s=a?Symbol.for("react.provider"):60109,p=a?Symbol.for("react.context"):60110,y=a?Symbol.for("react.forward_ref"):60112,f=a?Symbol.for("react.suspense"):60113,d=a?Symbol.for("react.memo"):60115,h=a?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function m(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function C(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||v}function w(){}function j(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||v}C.prototype.isReactComponent={},C.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(m(85));this.updater.enqueueSetState(this,e,t,"setState")},C.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=C.prototype;var S=j.prototype=new w;S.constructor=j,n(S,C.prototype),S.isPureReactComponent=!0;var O={current:null},k=Object.prototype.hasOwnProperty,N={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,r){var n,a={},l=null,i=null;if(null!=t)for(n in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)k.call(t,n)&&!N.hasOwnProperty(n)&&(a[n]=t[n]);var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){for(var u=Array(c),s=0;s<c;s++)u[s]=arguments[s+2];a.children=u}if(e&&e.defaultProps)for(n in c=e.defaultProps)void 0===a[n]&&(a[n]=c[n]);return{$$typeof:o,type:e,key:l,ref:i,props:a,_owner:O.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var P=/\/+/g,x=[];function _(e,t,r,n){if(x.length){var a=x.pop();return a.result=e,a.keyPrefix=t,a.func=r,a.context=n,a.count=0,a}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>x.length&&x.push(e)}function I(e,t,r,n){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var i=!1;if(null===e)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case o:case l:i=!0}}if(i)return r(n,e,""===t?"."+A(e,0):t),1;if(i=0,t=""===t?".":t+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=t+A(a=e[c],c);i+=I(a,u,r,n)}else if(null===e||"object"!=typeof e?u=null:u="function"==typeof(u=g&&e[g]||e["@@iterator"])?u:null,"function"==typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)i+=I(a=a.value,u=t+A(a,c++),r,n);else if("object"===a)throw r=""+e,Error(m(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return i}function $(e,t,r){return null==e?0:I(e,"",t,r)}function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function D(e,t){e.func.call(e.context,t,e.count++)}function T(e,t,r){var n=e.result,a=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?U(e,n,r,function(e){return e}):null!=e&&(E(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,a+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+r)),n.push(e))}function U(e,t,r,n,a){var o="";null!=r&&(o=(""+r).replace(P,"$&/")+"/"),$(e,T,t=_(t,o,n,a)),R(t)}var B={current:null};function q(){var e=B.current;if(null===e)throw Error(m(321));return e}var L={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:O,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:function(e,t,r){if(null==e)return e;var n=[];return U(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;$(e,D,t=_(null,null,t,r)),R(t)},count:function(e){return $(e,function(){return null},null)},toArray:function(e){var t=[];return U(e,t,null,function(e){return e}),t},only:function(e){if(!E(e))throw Error(m(143));return e}},t.Component=C,t.Fragment=i,t.Profiler=u,t.PureComponent=j,t.StrictMode=c,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null==e)throw Error(m(267,e));var a=n({},e.props),l=e.key,i=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,c=O.current),void 0!==t.key&&(l=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(s in t)k.call(t,s)&&!N.hasOwnProperty(s)&&(a[s]=void 0===t[s]&&void 0!==u?u[s]:t[s])}var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){u=Array(s);for(var p=0;p<s;p++)u[p]=arguments[p+2];a.children=u}return{$$typeof:o,type:e.type,key:l,ref:i,props:a,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:y,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return q().useCallback(e,t)},t.useContext=function(e,t){return q().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return q().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return q().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return q().useLayoutEffect(e,t)},t.useMemo=function(e,t){return q().useMemo(e,t)},t.useReducer=function(e,t,r){return q().useReducer(e,t,r)},t.useRef=function(e){return q().useRef(e)},t.useState=function(e){return q().useState(e)},t.version="16.13.1"},5680:(e,t,r)=>{r.d(t,{xA:()=>s,yg:()=>d});var n=r(6540);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),u=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},s=function(e){var t=u(e.components);return n.createElement(c.Provider,{value:t},e.children)},p="mdxType",y={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef(function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),p=u(r),f=a,d=p["".concat(c,".").concat(f)]||p[f]||y[f]||o;return r?n.createElement(d,l(l({ref:t},s),{},{components:r})):n.createElement(d,l({ref:t},s))});function d(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,l=new Array(o);l[0]=f;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[p]="string"==typeof e?e:a,l[1]=i;for(var u=2;u<o;u++)l[u]=r[u];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},8876:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>c,default:()=>d,frontMatter:()=>i,metadata:()=>u,toc:()=>p});var n=r(8168),a=r(8587),o=(r(3696),r(5680));const l=["components"],i={id:"api-reference-character-metadata",title:"CharacterMetadata"},c=void 0,u={unversionedId:"api-reference-character-metadata",id:"api-reference-character-metadata",title:"CharacterMetadata",description:"CharacterMetadata is an Immutable",source:"@site/../docs/APIReference-CharacterMetadata.md",sourceDirName:".",slug:"/api-reference-character-metadata",permalink:"/draft-js/docs/api-reference-character-metadata",draft:!1,editUrl:"https://github.com/facebook/draft-js/edit/master/docs/../docs/APIReference-CharacterMetadata.md",tags:[],version:"current",lastUpdatedBy:"Kagami Sascha Rosylight",lastUpdatedAt:1751381152,formattedLastUpdatedAt:"Jul 1, 2025",frontMatter:{id:"api-reference-character-metadata",title:"CharacterMetadata"},sidebar:"docs",previous:{title:"ContentBlock",permalink:"/draft-js/docs/api-reference-content-block"},next:{title:"Entity",permalink:"/draft-js/docs/api-reference-entity"}},s={},p=[{value:"Overview",id:"overview",level:2},{value:"Static Methods",id:"static-methods",level:2},{value:"<code>create()</code>",id:"create",level:3},{value:"<code>applyStyle()</code>",id:"applystyle",level:3},{value:"<code>removeStyle()</code>",id:"removestyle",level:3},{value:"<code>applyEntity()</code>",id:"applyentity",level:3},{value:"Methods",id:"methods",level:2},{value:"<code>getStyle()</code>",id:"getstyle",level:3},{value:"<code>hasStyle()</code>",id:"hasstyle",level:3},{value:"<code>getEntity()</code>",id:"getentity",level:3}],y={toc:p},f="wrapper";function d(e){let{components:t}=e,r=(0,a.A)(e,l);return(0,o.yg)(f,(0,n.A)({},y,r,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"CharacterMetadata")," is an Immutable\n",(0,o.yg)("a",{parentName:"p",href:"https://web.archive.org/web/20150623131347/http://facebook.github.io:80/immutable-js/docs/#/Record"},"Record"),"\nthat represents inline style and entity information for a single character."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"CharacterMetadata")," objects are aggressively pooled and shared. If two characters\nhave the same inline style and entity, they are represented with the same\n",(0,o.yg)("inlineCode",{parentName:"p"},"CharacterMetadata")," object. We therefore need only as many objects as combinations\nof utilized inline style sets with entity keys, keeping our memory footprint\nsmall even as the contents grow in size and complexity."),(0,o.yg)("p",null,"To that end, you should create or apply changes to ",(0,o.yg)("inlineCode",{parentName:"p"},"CharacterMetadata")," objects\nvia the provided set of static methods, which will ensure that pooling is utilized."),(0,o.yg)("p",null,"Most Draft use cases are unlikely to use these static methods, since most common edit\noperations are already implemented and available via utility modules. The getter\nmethods, however, may come in handy at render time."),(0,o.yg)("p",null,"See the API reference on\n",(0,o.yg)("a",{parentName:"p",href:"/docs/api-reference-content-block#representing-styles-and-entities"},"ContentBlock"),"\nfor information on how ",(0,o.yg)("inlineCode",{parentName:"p"},"CharacterMetadata")," is used within ",(0,o.yg)("inlineCode",{parentName:"p"},"ContentBlock"),"."),(0,o.yg)("h2",{id:"overview"},"Overview"),(0,o.yg)("p",null,(0,o.yg)("em",{parentName:"p"},"Static Methods")),(0,o.yg)("ul",{class:"apiIndex"},(0,o.yg)("li",null,(0,o.yg)("a",{href:"#create"},(0,o.yg)("pre",null,"static create(...): CharacterMetadata"))),(0,o.yg)("li",null,(0,o.yg)("a",{href:"#applystyle"},(0,o.yg)("pre",null,"static applyStyle(...): CharacterMetadata"))),(0,o.yg)("li",null,(0,o.yg)("a",{href:"#removestyle"},(0,o.yg)("pre",null,"static removeStyle(...): CharacterMetadata"))),(0,o.yg)("li",null,(0,o.yg)("a",{href:"#applyentity"},(0,o.yg)("pre",null,"static applyEntity(...): CharacterMetadata")))),(0,o.yg)("p",null,(0,o.yg)("em",{parentName:"p"},"Methods")),(0,o.yg)("ul",{class:"apiIndex"},(0,o.yg)("li",null,(0,o.yg)("a",{href:"#getstyle"},(0,o.yg)("pre",null,"getStyle(): DraftInlineStyle"))),(0,o.yg)("li",null,(0,o.yg)("a",{href:"#hasstyle"},(0,o.yg)("pre",null,"hasStyle(style: string): boolean"))),(0,o.yg)("li",null,(0,o.yg)("a",{href:"#getentity"},(0,o.yg)("pre",null,"getEntity(): ?string")))),(0,o.yg)("h2",{id:"static-methods"},"Static Methods"),(0,o.yg)("p",null,"Under the hood, these methods will utilize pooling to return a matching object,\nor return a new object if none exists."),(0,o.yg)("h3",{id:"create"},(0,o.yg)("inlineCode",{parentName:"h3"},"create()")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"static create(config?: CharacterMetadataConfig): CharacterMetadata\n")),(0,o.yg)("p",null,"Generates a ",(0,o.yg)("inlineCode",{parentName:"p"},"CharacterMetadata")," object from the provided configuration. This\nfunction should be used in lieu of a constructor."),(0,o.yg)("p",null,"The configuration will be used to check whether a pooled match for this\nconfiguration already exists. If so, the pooled object will be returned.\nOtherwise, a new ",(0,o.yg)("inlineCode",{parentName:"p"},"CharacterMetadata")," will be pooled for this configuration,\nand returned."),(0,o.yg)("h3",{id:"applystyle"},(0,o.yg)("inlineCode",{parentName:"h3"},"applyStyle()")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"static applyStyle(\n  record: CharacterMetadata,\n  style: string\n): CharacterMetadata\n")),(0,o.yg)("p",null,"Apply an inline style to this ",(0,o.yg)("inlineCode",{parentName:"p"},"CharacterMetadata"),"."),(0,o.yg)("h3",{id:"removestyle"},(0,o.yg)("inlineCode",{parentName:"h3"},"removeStyle()")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"static removeStyle(\n  record: CharacterMetadata,\n  style: string\n): CharacterMetadata\n")),(0,o.yg)("p",null,"Remove an inline style from this ",(0,o.yg)("inlineCode",{parentName:"p"},"CharacterMetadata"),"."),(0,o.yg)("h3",{id:"applyentity"},(0,o.yg)("inlineCode",{parentName:"h3"},"applyEntity()")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"static applyEntity(\n  record: CharacterMetadata,\n  entityKey: ?string\n): CharacterMetadata\n")),(0,o.yg)("p",null,"Apply an entity key -- or provide ",(0,o.yg)("inlineCode",{parentName:"p"},"null")," to remove an entity key -- on this\n",(0,o.yg)("inlineCode",{parentName:"p"},"CharacterMetadata"),"."),(0,o.yg)("h2",{id:"methods"},"Methods"),(0,o.yg)("h3",{id:"getstyle"},(0,o.yg)("inlineCode",{parentName:"h3"},"getStyle()")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"getStyle(): DraftInlineStyle\n")),(0,o.yg)("p",null,"Returns the ",(0,o.yg)("inlineCode",{parentName:"p"},"DraftInlineStyle")," for this character, an ",(0,o.yg)("inlineCode",{parentName:"p"},"OrderedSet")," of strings\nthat represents the inline style to apply for the character at render time."),(0,o.yg)("h3",{id:"hasstyle"},(0,o.yg)("inlineCode",{parentName:"h3"},"hasStyle()")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"hasStyle(style: string): boolean\n")),(0,o.yg)("p",null,"Returns whether this character has the specified style."),(0,o.yg)("h3",{id:"getentity"},(0,o.yg)("inlineCode",{parentName:"h3"},"getEntity()")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-js"},"getEntity(): ?string\n")),(0,o.yg)("p",null,"Returns the entity key (if any) for this character, as mapped to the global set of\nentities tracked by the ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/facebook/draft-js/blob/master/src/model/entity/DraftEntity.js"},(0,o.yg)("inlineCode",{parentName:"a"},"Entity")),"\nmodule."),(0,o.yg)("p",null,"By tracking a string key here, we can keep the corresponding metadata separate\nfrom the character representation."),(0,o.yg)("p",null,"If null, no entity is applied for this character."))}d.isMDXComponent=!0}}]);